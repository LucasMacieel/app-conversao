<CorrenteMagnetizacao@Screen>:
    name: "correnteMagnetizacao"

    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            id: menu_top_app_bar

            title: "Corrente Magnetização"
            left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

        ScreenManager:
            id: screen_manager

            MDScreen:
                name: "telaCorrenteMagnetizacao"

                MDBoxLayout:
                    orientation: "vertical"
                    spacing: "200dp"
                    adaptive_height: True
                    adaptive_width: True
                    size_hint_x: .95
                    padding: [0, 50]
                    pos_hint: {"center_x": .5, "center_y": .5}

                    MDBoxLayout:
                        orientation: "vertical"

                        MDRaisedButton:
                            text: "Visualizar arquivo modelo"
                            name: "arquivoModelo"
                            pos_hint: {"center_x": .5, "center_y": .5}

                            on_release: app.abrir_arquivo_de_exemplo()

                    MDBoxLayout:
                        orientation: "vertical"
                        spacing: "20dp"

                        MDRoundFlatIconButton:
                            text: "Importar arquivo"
                            icon: "folder"
                            pos_hint: {"center_x": .5, "center_y": .5}

                            on_release: app.file_manager_open(screen_manager)

                        MDRaisedButton:
                            text: "Gerar gráfico"
                            name: "graph"
                            pos_hint: {"center_x": .5, "center_y": .5}

                            on_release: app.change_screen(screen_manager, "graph", 0)

            MDScreen:
                name: "graph"

                BoxLayout:
                    id:graph
                    figure_wgt: figure_wgt

                    orientation: "vertical"
                    spacing: "200dp"
                    adaptive_height: True
                    padding: ["10dp", "20dp", "10dp", "60dp"]
                    pos_hint: {"center_x": .5, "center_y": .5}

                    MatplotFigure:
                        id: figure_wgt

                        fast_draw:True
                        interactive_axis:True

                MDRaisedButton:
                    text: "Voltar"
                    pos_hint: {"center_y":.05, "center_x":.5}
                    on_release: app.change_screen(screen_manager, "telaCorrenteMagnetizacao", 1)

            MDScreen:
                name: "dadosMagnetizacao"

                MDScrollView:
                    do_scroll_x: False
                    pos_hint: {"center_x": .5, "center_y": .5}
                    size_hint_x: .95

                    MDBoxLayout:
                        adaptive_height: True
                        padding: [0, 120, 0, 50]
                        orientation: "vertical"
                        spacing: "40dp"

                        MDBoxLayout:
                            id: tebela_dados_magnetizacao

                            adaptive_height: True
                            orientation: "vertical"
                            spacing: "90dp"

                        MDRaisedButton:
                            text: "Adicionar Dados"
                            pos_hint: {"center_x": .5, "center_y": .5}

                            on_release: app.adicionar_dados(tebela_dados_magnetizacao)

                        MDBoxLayout:
                            adaptive_height: True
                            adaptive_width: True
                            spacing: "20dp"
                            pos_hint: {"center_x": .5, "center_y": .5}

                            MDRaisedButton:
                                text: "Voltar"
                                pos_hint: {"center_x": .5, "center_y": .5}

                                on_release: app.change_screen(screen_manager, "telaCorrenteMagnetizacao", 1)

                            MDRaisedButton:
                                text: "Confirmar Dados"
                                pos_hint: {"center_x": .5, "center_y": .5}

                                on_release: app.salvar_dados_magnetizacao(tebela_dados_magnetizacao)

    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 16, 16, 0)

        MDNavigationDrawerMenu:

            MDNavigationDrawerHeader:
                title: "Transformadores"
                title_color: "#4a4939"
                text: "Projeto UPE-POLI 2023.2"
                spacing: "4dp"
                padding: "12dp", 0, 0, "56dp"

            MDNavigationDrawerLabel:
                text: "Dados Entrada"

            DrawerClickableItem:
                nav_drawer: nav_drawer
                icon: "home"
                text: "Tela Inicial"

                on_press:
                    nav_drawer.set_state("close")
                    app.root.current = "telaInicial"

            MDNavigationDrawerDivider:

            MDNavigationDrawerLabel:
                text: "Desenvolvimento"

            DrawerClickableItem:
                nav_drawer: nav_drawer
                icon: "note-edit"
                text: "Dimensionamento"

                on_press:
                    nav_drawer.set_state("close")
                    app.root.current = "dimensionamento"

            DrawerClickableItem:
                icon: "sine-wave"
                text: "Corrente Magnetização"

                on_press:
                    nav_drawer.set_state("close")
                    app.root.current = "correnteMagnetizacao"

            MDNavigationDrawerDivider:

            MDNavigationDrawerLabel:
                text: "Detalhamento"

            DrawerClickableItem:
                icon: "file-document"
                text: "Ficha Técnica"

                on_press:
                    nav_drawer.set_state("close")
                    app.root.current = "fichaTecnica"

            DrawerClickableItem:
                icon: "account-group"
                text: "Desenvolvedores"

                on_press:
                    nav_drawer.set_state("close")
                    app.root.current = "desenvolvedores"
